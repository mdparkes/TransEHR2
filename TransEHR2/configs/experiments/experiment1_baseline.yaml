# Establishes a baseline level of performance using the TransEHR model of Xu et al.

EXPERIMENT_NAME: "experiment1_baseline"

BATCH_SIZE: 200

# Whether to use text data as features
USE_TEXT: False

# Whether to let the generator and discriminator predict feature presence indicators as well as values
PREDICT_INDICATORS: False

GENERATOR_ENCODER_D_MODEL: 256
GENERATOR_ENCODER_N_HEADS: 2
GENERATOR_ENCODER_N_ENCODER_BLOCKS: 1
GENERATOR_ENCODER_DIM_FEEDFORWARD: 256
GENERATOR_ENCODER_DROPOUT: 0.1
GENERATOR_ENCODER_ACTIVATION: 'gelu'
GENERATOR_ENCODER_NORM: 'LayerNorm'

DISCRIMINATOR_ENCODER_D_MODEL: 256
DISCRIMINATOR_ENCODER_N_HEADS: 2
DISCRIMINATOR_ENCODER_N_ENCODER_BLOCKS: 1
DISCRIMINATOR_ENCODER_DIM_FEEDFORWARD: 256
DISCRIMINATOR_ENCODER_DROPOUT: 0.1
DISCRIMINATOR_ENCODER_ACTIVATION: 'gelu'
DISCRIMINATOR_ENCODER_NORM: 'LayerNorm'

THP_ENCODER_D_MODEL: 256
THP_ENCODER_D_INNER: 256
THP_ENCODER_N_LAYERS: 1
THP_ENCODER_N_HEADS: 2
THP_ENCODER_D_K: 64
THP_ENCODER_D_V: 64
THP_ENCODER_DROPOUT: 0.1

GENERATOR_D_MODEL: 256
GENERATOR_DIM_FEEDFORWARD: 256

DISCRIMINATOR_DIM_FEEDFORWARD: 256

PREDICTOR_AGGREGATION_METHOD: "mean"

MODEL_DIR: "/uhome/pr3/projects/p60290_2/TransEHR2/models"

PRETRAIN_LEARNING_RATE: 0.002
PRETRAIN_LEARNING_RATE_DECAY: 0.5
PRETRAIN_TOTAL_EPOCH: 2000

DISC_LOSS_WEIGHT: 0.5
THP_LOSS_NLL_WEIGHT: 0.001
THP_LOSS_MC_SAMPLES: 100
USE_THP_PRED_LOSS: True
THP_PRED_LOSS_TYPE_WT: 1.0
THP_PRED_LOSS_TIME_WT: 0.01

RECORD_MASK_RATIO: 0.25
OBS_UNOBS_SAMPLE_RATIO: 4.0
CMPNT_MASK_RATIO: 0.5

FINETUNE_LEARNING_RATE: 0.0002
FINETUNE_TOTAL_EPOCH: 500
FINETUNE_LEARNING_RATE_DECAY: 0.8